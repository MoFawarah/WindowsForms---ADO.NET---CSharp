<div class="container">
    <h1 class="mt-3">Blog Post List</h1>


    <div class="d-flex justify-content-end mt-3">
        <a routerLink="/admin/blogpost/add" class="btn btn-primary">Add BlogPost</a>
    </div>



    <!-- <div *ngIf="data.length>0, else notFound">

    
    <table class="table table-bordered mt-3">
        <thead>
          <tr>
            <th scope="col">ID</th>
            <th scope="col">Title</th>
            <th scope="col">ShortDescription</th>
            <th scope="col">Content</th>
            <th scope="col">FeaturedImageUrl</th>
            <th scope="col">UrlHandle</th>
            <th scope="col">PublishedDate</th>
            <th scope="col">Author</th>
            <th scope="col">IsVisible</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let post of data">
            <th scope="row">{{post.id}}</th>
            <td>{{post.title}}</td>
            <td>{{post.shortDescription}}</td>
            <td>{{post.content}}</td>
            <td>{{post.featuredImageUrl}}</td>
            <td>{{post.urlHandle}}</td>
            <td>{{post.publishedDate}}</td>
            <td>{{post.author}}</td>
          </tr>
          
       
        </tbody>
    </table>

    </div>

    <ng-template #notFound>
      <p>No blog posts found.</p>
    </ng-template> -->


    <!-- 3. this is for async pipe -->

    <ng-container *ngIf="(data$ | async) as blogPosts, else noPosts">

        <ng-container *ngIf="blogPosts.length>0">

            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">ID</th>
                        <th scope="col">Title</th>
                        <!-- <th scope="col">ShortDescription</th> -->
                        <!-- <th scope="col">Content</th> -->
                        <th scope="col">FeaturedImageUrl</th>
                        <!-- <th scope="col">UrlHandle</th> -->
                        <th scope="col">PublishedDate</th>
                        <th scope="col">Author</th>
                        <th scope="col">IsVisible</th>
                        <th>Categories</th>
                
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let post of blogPosts">
                        <th scope="row">{{post.id}}</th>
                        <td>{{post.title}}</td>
                        <!-- <td>{{post.shortDescription}}</td> -->
                        <!-- <td style="max-height: 200px; overflow-y: auto;">{{post.content}}</td> -->
                        <td>{{post.featuredImageUrl}}</td>
                        <!-- <td>{{post.urlHandle}}</td> -->
                        <td>{{post.publishedDate | date: "yyyy-MM-dd"}} </td>
                        <td>{{post.author}}</td>
                        <td>{{post.isVisible}}</td>
                        <td>
                            <span *ngFor="let c of post.categories">
                            
                            <span class="badge bg-secondary me-2">{{c.name}}</span>
                                
                            </span>
                        </td>
                    </tr>


                </tbody>
            </table>

        </ng-container>

    </ng-container>

    <ng-template #noPosts>
        <p>No blog posts found.</p>
    </ng-template>


</div>